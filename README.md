This implementation was inspired by an article I found on the using the Thompson NFA for implementing regular expressions.

http://swtch.com/~rsc/regexp/regexp1.html

